
## Startscreen definieren: Bot soll direkt mit dem "/start"-screen starten plus Buttons darunter

## Setupscreen definieren: alle Befehle im bekannten Look

## Favoriten werden aktuell im tausche loop nicht berÃ¼cksichtigt. sollte auch oder?

## weitere show_debug_for infos nÃ¶tig? siehe verteilung essen

## Gerichteliste erweitern und verbessern

## KÃ¼che: "Anderes" einfÃ¼hren?

## Kategorien umbenennen: GemÃ¼se -> GemÃ¼se/FrÃ¼chte | Saucen/Konserven -> ??

## mini app -> wo macht es sinn, wo nicht... Profil / Beilagenselektion / Favoritenhandling / Tauschen -> "Beilagenselektion+"
	(github URL besteht bereits und in .env file inkludiert)
	mehr Beilagenauswahl mÃ¶glich. Teigwaren -> HÃ¶rnli, Nudeln, Spaghetti,...
	jeweils selektion: selber machen / fertig einkaufen


## umrechner EL in gramm etc






## Fehlerhandling: bot fÃ¤llt aus, wenn ich rÃ¼ckwirkend noch einen button klicke (bspw. eine frage weiter). bot darf aber nicht ausfallen, es soll einfach nichts passieren. ausser wenn ich einen button von /start klicke

## via Setup Menu: Gerichte kÃ¶nnen mit dreistelliger Kennung (bspw. J4) direkt den Favoriten hinzugefÃ¼gt werden. Bspw. auf Homepage sind alle Gerichte aufgelistet


_________________________________________________________________________________

## Bring app Integration:

	Aktuell lÃ¤uft es Ã¼ber Gist auf GitHub inkl. GitHub API Token. fÃ¼r mehrere User soll es aber Ã¼ber AWS laufen... -> Chat "AWS"

	https://aws.amazon.com/de/dynamodb/?did=ft_card&trk=ft_card


----------------------------------------
## Sobald Bot auf einem dauerhaften Server/Container lÃ¤uft -> Cron-Jobs fÃ¼r Reports einplanen.

## Unit-Test-Umgebung -> Test-Framework (pytest) einichten oder besser Skeleton-Repo?

## Beschriftung Kommandos Ã¼berarbeiten.

## Code-Cleanup & Doku // Kommentare, TypÂ­hints, README-Update.

## Code-QualitÃ¤t und Tests

| Baustein                       | Warum                                                         | Was konkret testen?                                                                                    | Tipp                                                                |
| ------------------------------ | ------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| **Pure Functions extrahieren** | Handler-Logik schlank halten â€“ leichter zu testen             | `parse_codes`, DF-Filter, Zufallsauswahl, Scaling-Funktionen                                           | Alles, was keinen Telegram-Context braucht, in `utils.py` auslagern |
| **Conversation-Flows**         | Regression vermeiden, wenn du spÃ¤ter Inline-Keyboards Ã¤nderst | `pytest-telegram` oder `python-telegram-bot-testing`<br>Simuliere Callback-Daten, prÃ¼fe nÃ¤chsten State | Benutze Fixtures fÃ¼r vorbereitete DF-Caches                         |
| **Edge-Cases**                 | User bricht ab / klickt doppelt / Quota-Limit greift          | Sessions korrekt aufrÃ¤umen? Default-Antworten vorhanden?                                               | Mocke das `gspread`-Objekt mit `responses`                          |


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
******************
Erledigt:

- Wenn ich ein menu austausche, darf dieses nicht mehr vorkommen, auch wenn ich mehrere mal tausche
- Verbindung gerichte mit beilage
- Ich muss mehrere tauschen kÃ¶nnen auf einmal: ich gebe ein /tausche und es kommt: welche mÃ¶chtest du tauschen. buttons mit allen nummern. ich kann mehrere anklicken und dann fertig.
- Tausche Loop: zuerst wÃ¤hle ich die gerichte aus und kriege eine neue auswahl. Bei "Passen diese Gerichte?": Nein -> ist die Auswahl weg, sprich ich weiss nicht welche ich austauschen mÃ¶chte. Bei "Ja" dasselbe. sowohl bei "Ja" wie auch bei "Nein" muss die liste bleiben!
- Kochliste soll name des gerichts plus jede beilage. bspw. stroganoff mit nudeln und spinat. 1 beilage: "mit". jede weitere beilage: "und" // sobald ich die beilagen hinzugefÃ¼gt habe, muss gericht plus beilage auch im /status erscheinen
- Nach Eingabe Anzahl MenÃ¼s kommen die Gerichte plus die Frage nach der Beilage. Erste Frage muss aber Sein: "passen diese Gerichte?"
- Einkaufsliste anders strukturieren: // Brot: 2 StÃ¼ck | Brot/Teig // zudem: zwischen den einzelnen Kategorien eine Leerzeilen // kochliste: das gericht unterstreichen, so dass es besser lesbar ist
- Export Kochliste / Einkaufsliste: 1) als PDF exportieren 2) einkaufsliste in bring exportieren
- bei Beilagenselektion muss der grÃ¼ne Haken vor dem Belagennamen erscheinen, sonst bspw. am Mobile nicht immer ersichtlich!
- Favoritenhandling Ã¼berlegen. Button oder nicht, wo wie?
- Neustart: Neustartbutton Logik einbauen
- QuickOne -> direkt in erstem MenÃ¼. erstellt per zufall ein menu ohne Kriterien mit Zufallsbeilagen. zwei Buttons: Neu / Passt. Neu -> lÃ¶scht vorschlag und Buttons und erstellt neuen vorschlag. Passt -> geht 
-/reset funktioniert nicht immer
- bei /reset darf das Profil nicht gelÃ¶scht werden. aktuell ist das der fall!
- (20250725) "MÃ¶chtest Du Beilagen hinzufÃ¼gen?" -> Frage kommt nur, wenn mind. ein Gericht eine BeilagenmÃ¶glichkeit hat. sonst direkt weiter in anzahl personen // wenn genau 1 gericht die mÃ¶glichkeit hat fÃ¼r beilagen, und ich mache "MÃ¶chtest du Beilagen hinzufÃ¼gen?" -> "Ja" -> Dann braucht es die Frage "FÃ¼r welche MenÃ¼s?" nicht, sondern es geht direkt in die beilagenauswahl fÃ¼r das eine gericht.
- (20250725) am ende nach Neustart-> Nachricht: "Super, bis bald!ğŸ‘‹" separat und dann mit 5 Sekunden VerzÃ¶gerung kommt dieselbe Nachricht wie bei /start inkl. "â¡ï¸ WÃ¤hle eine Option:" mit den buttons
- (20250725) hin und wieder werden bei klick auf einen button mehrere Buttons selektiert (grÃ¼ner haken). beispielsweise, wenn ich nach einem gericht tausch nochmals tausche.
- (20250725) QuickOne -> hier dÃ¼rfen dieselben gerichte nicht zweimal kommen bei "Neu!" sprich erst wenn alle einmal durch sind, darf dasselbe Gericht wieder gezeigt werden. gleiches gilt fÃ¼r die beilagen! // QuickOne -> wenn ich bei "Passt das?" auf "Passt" klicke, soll die Frage "Passt das?" plus die Buttons direkt verschwinden. aktuell verschwindet es zusammen mit der Auswahl der anzahl Personen zusammen. // QuickOne -> hin und wieder kommt "Dein Gericht:" und in der Nachricht kein gericht vorgeschlagen. wieso?
- nach neustart funktionieren die buttons gar nicht (Menu, QuickOne, Favorit, Setup)
- (20250728): kann man farbe der buttons oder farbe der nachrichten Ã¤ndern. ggf. die nachrichten mit buttons auch andere farbe? => NEIN
- (20250728): Mindestbreite von nachrichten.bspw. mindestens 30 zeichen
- (20250728): Favoriten wÃ¤hlen: ich kann auswÃ¤hlen aus der Favoritenliste, welche Favoriten ich in der gerichteliste haben mÃ¶chte
- (20250729): lÃ¶sung finden fÃ¼r 4 (2,1,1) -> wie bring ich das mit Buttons hin?
- (20250729): prompt:siehe code anbei. ich habe bei definiere aufwand gewÃ¤hlt: 2 leicht, 2 mittel, 1 aufwÃ¤ndig. debug aufwandverteilung zeigt an: 4x leicht, 0 mittel, 1 schwer. prÃ¼fe im code nach fehler und wieso dass so ein fehler enstehen kann.
- (20250729): wenn ich bei "Bist Du sicher? Die Gerichsauswahl wird zurÃ¼ckgesetzt (Favoriten bleiben bestehen)" auf einen Button klicke. muss die Nachricht und die buttons verschwinden. bei "Ja" folgt dann "Super, bis bald". bei "Nein" muss nochmals die Ã¼bersicht kommen: "Was mÃ¶chtest Du weiter tun?" inkl. den buttons Gerichte zu Favoriten, Einkaufsliste Bring, etc. analog nach der PDF Export, Bring Export und Favoriten hinzufÃ¼gen schlaufe...
- (20250729): die frage "mÃ¶chtest Du Beilagen hinzufÃ¼gen?" soll immer kommen, wenn es gerichte gibt mit beilagenmÃ¶glichkeit. sprich >=1 gericht mit beilage -> frage stellen. wenn =1 gericht mit beilage -> nicht fragen fÃ¼r welches gericht, sondern direkt in die beilagenselektion. wenn >1 gerichte mit beilage -> frage fÃ¼r welche gerichte.
- (20250729): teilweise auf mobile zu wenig breit fÃ¼r 4 buttons. ggf. die hauptbuttons untereinander
- (20250730): quick one nutzt dieselbe Logik, dass favoritengerichte mit grÃ¶sserer Wahrscheinlichkeit gewÃ¤hlt werden???
- (20250730): prÃ¼fe tausche loop, dass wenn mÃ¶glich gerichte mit gleichem aufwand und gleicher art getauscht werden. falls gleicher aufwand nicht vorhanden -> geh eins tiefer. falls bereits bei 1 geh eins hÃ¶her. falls gleiche schwere nicht vorhanden, geh eins tiefer. falls bereits bei "leicht" geh eins hÃ¶her
- (20250730): Produkte mit 0.5 mengen werden in der einkaufs und kochliste wieder mit 0 angegeben. greift der Dezimalstellen code nicht?
- (20250730): 
- Beilagen: in der Kochliste werden die zutaten der beilage nicht reingenommen. zudem: prÃ¼fen ob bei der menge der beilage die korrekte position bei Zutaten genommen wird. muss nÃ¤mlich diejenigen sein die die Zutate plus Typ = Beilage hat! Typ also immer auch prÃ¼fen!!
- (20250806): bei gerichten mit EinschrÃ¤nkung "beides" soll bei der koch/einkaufsliste einfach alles aus der Kategorie "Fleisch" weggelassen werden!
- (20250806): neu kann menge auch in worten angegeben werden, e.g. "wenig", "Prise", etc
- (20250806): bei Selektion beilagen muss grÃ¼ner hacken vor der beilage stehen, sonst ist bei langen worten nicht ersichtlich ob selektiert
- (20250812): Link auf Rezept online, wo vorhanden -> Done // Neu: Links mÃ¼ssen weiterhin fett sein. ggf. gar kein "-", dann kommt es schÃ¶ner
- (20250815): buttons bei beilagenselektion besser anordnen. fertig zuunterst und darÃ¼ber jeweils 3 buttons nebeneinander oder so
- (20250815): Super, bis bald!ğŸ‘‹      -> sobald die neue Ã¼bersicht kommt, kann das wieder verschwinden
- (20250818): PDF Export: Kochliste vor Einkaufsliste. zwei spalten export bei einkaufsliste und mit Ã¼berschrift arbeiten (gemÃ¼se, fleisch, etc) / Seitenumbruch
- (20250818): 



======================================================================
======================================================================
ZurÃ¼ckgestellt:


## in der liste "deine gerichte" soll ersichtlich sein, welche gerichte leich, mittel, aufwÃ¤ndig sind. wie kann man das umsetzen, so dass es ersichtlich ist, aber nicht stÃ¶rt. soll zudem in allen gerichtelisten inkl. der kochliste ersichtlich sein

âšª ChinanÃ¼deli (<30min)
âšª GemÃ¼steteller (30-60min)
â­• Omeletten (>60min)
ğŸ”´ Poulet im ChÃ¶rbli
ğŸ”´ Lachs

ğŸ¥„ ChinanÃ¼deli
ğŸ¥„ GemÃ¼steteller
ğŸ› Omeletten
ğŸ‘¨â€ğŸ³ Poulet im ChÃ¶rbli
ğŸ‘¨â€ğŸ³ Lachs

ğŸŸ¢ ChinanÃ¼deli
ğŸŸ¢ GemÃ¼steteller
ğŸŸ¡ Omeletten
ğŸ”´ Poulet im ChÃ¶rbli
ğŸ”´ Lachs

ğŸ£ ChinanÃ¼deli
ğŸ£ GemÃ¼steteller
ğŸ” Omeletten
ğŸ¦… Poulet im ChÃ¶rbli
ğŸ¦… Lachs



