
## Startscreen definieren: Bot soll direkt mit dem "/start"-screen starten plus Buttons darunter

## Setupscreen definieren: alle Befehle im bekannten Look

## Favoriten werden aktuell im tausche loop nicht ber√ºcksichtigt. sollte auch oder?

## weitere show_debug_for infos n√∂tig? siehe verteilung essen

## Gerichteliste erweitern und verbessern

## K√ºche: "Anderes" einf√ºhren?

## Kategorien umbenennen: Gem√ºse -> Gem√ºse/Fr√ºchte | Saucen/Konserven -> ??

## mini app -> wo macht es sinn, wo nicht... Profil / Beilagenselektion / Favoritenhandling / Tauschen -> "Beilagenselektion+"
	(github URL besteht bereits und in .env file inkludiert)
	mehr Beilagenauswahl m√∂glich. Teigwaren -> H√∂rnli, Nudeln, Spaghetti,...
	jeweils selektion: selber machen / fertig einkaufen


## umrechner EL in gramm etc






## Fehlerhandling: bot f√§llt aus, wenn ich r√ºckwirkend noch einen button klicke (bspw. eine frage weiter). bot darf aber nicht ausfallen, es soll einfach nichts passieren. ausser wenn ich einen button von /start klicke

## via Setup Menu: Gerichte k√∂nnen mit dreistelliger Kennung (bspw. J4) direkt den Favoriten hinzugef√ºgt werden. Bspw. auf Homepage sind alle Gerichte aufgelistet


_________________________________________________________________________________

## Bring app Integration:

	Aktuell l√§uft es √ºber Gist auf GitHub inkl. GitHub API Token. f√ºr mehrere User soll es aber √ºber AWS laufen... -> Chat "AWS"

	https://aws.amazon.com/de/dynamodb/?did=ft_card&trk=ft_card


----------------------------------------
## Sobald Bot auf einem dauerhaften Server/Container l√§uft -> Cron-Jobs f√ºr Reports einplanen.

## Unit-Test-Umgebung -> Test-Framework (pytest) einichten oder besser Skeleton-Repo?

## Beschriftung Kommandos √ºberarbeiten.

## Code-Cleanup & Doku // Kommentare, Typ¬≠hints, README-Update.

## Code-Qualit√§t und Tests

| Baustein                       | Warum                                                         | Was konkret testen?                                                                                    | Tipp                                                                |
| ------------------------------ | ------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------- |
| **Pure Functions extrahieren** | Handler-Logik schlank halten ‚Äì leichter zu testen             | `parse_codes`, DF-Filter, Zufallsauswahl, Scaling-Funktionen                                           | Alles, was keinen Telegram-Context braucht, in `utils.py` auslagern |
| **Conversation-Flows**         | Regression vermeiden, wenn du sp√§ter Inline-Keyboards √§nderst | `pytest-telegram` oder `python-telegram-bot-testing`<br>Simuliere Callback-Daten, pr√ºfe n√§chsten State | Benutze Fixtures f√ºr vorbereitete DF-Caches                         |
| **Edge-Cases**                 | User bricht ab / klickt doppelt / Quota-Limit greift          | Sessions korrekt aufr√§umen? Default-Antworten vorhanden?                                               | Mocke das `gspread`-Objekt mit `responses`                          |


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
******************
Erledigt:

- Wenn ich ein menu austausche, darf dieses nicht mehr vorkommen, auch wenn ich mehrere mal tausche
- Verbindung gerichte mit beilage
- Ich muss mehrere tauschen k√∂nnen auf einmal: ich gebe ein /tausche und es kommt: welche m√∂chtest du tauschen. buttons mit allen nummern. ich kann mehrere anklicken und dann fertig.
- Tausche Loop: zuerst w√§hle ich die gerichte aus und kriege eine neue auswahl. Bei "Passen diese Gerichte?": Nein -> ist die Auswahl weg, sprich ich weiss nicht welche ich austauschen m√∂chte. Bei "Ja" dasselbe. sowohl bei "Ja" wie auch bei "Nein" muss die liste bleiben!
- Kochliste soll name des gerichts plus jede beilage. bspw. stroganoff mit nudeln und spinat. 1 beilage: "mit". jede weitere beilage: "und" // sobald ich die beilagen hinzugef√ºgt habe, muss gericht plus beilage auch im /status erscheinen
- Nach Eingabe Anzahl Men√ºs kommen die Gerichte plus die Frage nach der Beilage. Erste Frage muss aber Sein: "passen diese Gerichte?"
- Einkaufsliste anders strukturieren: // Brot: 2 St√ºck | Brot/Teig // zudem: zwischen den einzelnen Kategorien eine Leerzeilen // kochliste: das gericht unterstreichen, so dass es besser lesbar ist
- Export Kochliste / Einkaufsliste: 1) als PDF exportieren 2) einkaufsliste in bring exportieren
- bei Beilagenselektion muss der gr√ºne Haken vor dem Belagennamen erscheinen, sonst bspw. am Mobile nicht immer ersichtlich!
- Favoritenhandling √ºberlegen. Button oder nicht, wo wie?
- Neustart: Neustartbutton Logik einbauen
- QuickOne -> direkt in erstem Men√º. erstellt per zufall ein menu ohne Kriterien mit Zufallsbeilagen. zwei Buttons: Neu / Passt. Neu -> l√∂scht vorschlag und Buttons und erstellt neuen vorschlag. Passt -> geht 
-/reset funktioniert nicht immer
- bei /reset darf das Profil nicht gel√∂scht werden. aktuell ist das der fall!
- (20250725) "M√∂chtest Du Beilagen hinzuf√ºgen?" -> Frage kommt nur, wenn mind. ein Gericht eine Beilagenm√∂glichkeit hat. sonst direkt weiter in anzahl personen // wenn genau 1 gericht die m√∂glichkeit hat f√ºr beilagen, und ich mache "M√∂chtest du Beilagen hinzuf√ºgen?" -> "Ja" -> Dann braucht es die Frage "F√ºr welche Men√ºs?" nicht, sondern es geht direkt in die beilagenauswahl f√ºr das eine gericht.
- (20250725) am ende nach Neustart-> Nachricht: "Super, bis bald!üëã" separat und dann mit 5 Sekunden Verz√∂gerung kommt dieselbe Nachricht wie bei /start inkl. "‚û°Ô∏è W√§hle eine Option:" mit den buttons
- (20250725) hin und wieder werden bei klick auf einen button mehrere Buttons selektiert (gr√ºner haken). beispielsweise, wenn ich nach einem gericht tausch nochmals tausche.
- (20250725) QuickOne -> hier d√ºrfen dieselben gerichte nicht zweimal kommen bei "Neu!" sprich erst wenn alle einmal durch sind, darf dasselbe Gericht wieder gezeigt werden. gleiches gilt f√ºr die beilagen! // QuickOne -> wenn ich bei "Passt das?" auf "Passt" klicke, soll die Frage "Passt das?" plus die Buttons direkt verschwinden. aktuell verschwindet es zusammen mit der Auswahl der anzahl Personen zusammen. // QuickOne -> hin und wieder kommt "Dein Gericht:" und in der Nachricht kein gericht vorgeschlagen. wieso?
- nach neustart funktionieren die buttons gar nicht (Menu, QuickOne, Favorit, Setup)
- (20250728): kann man farbe der buttons oder farbe der nachrichten √§ndern. ggf. die nachrichten mit buttons auch andere farbe? => NEIN
- (20250728): Mindestbreite von nachrichten.bspw. mindestens 30 zeichen
- (20250728): Favoriten w√§hlen: ich kann ausw√§hlen aus der Favoritenliste, welche Favoriten ich in der gerichteliste haben m√∂chte
- (20250729): l√∂sung finden f√ºr 4 (2,1,1) -> wie bring ich das mit Buttons hin?
- (20250729): prompt:siehe code anbei. ich habe bei definiere aufwand gew√§hlt: 2 leicht, 2 mittel, 1 aufw√§ndig. debug aufwandverteilung zeigt an: 4x leicht, 0 mittel, 1 schwer. pr√ºfe im code nach fehler und wieso dass so ein fehler enstehen kann.
- (20250729): wenn ich bei "Bist Du sicher? Die Gerichsauswahl wird zur√ºckgesetzt (Favoriten bleiben bestehen)" auf einen Button klicke. muss die Nachricht und die buttons verschwinden. bei "Ja" folgt dann "Super, bis bald". bei "Nein" muss nochmals die √ºbersicht kommen: "Was m√∂chtest Du weiter tun?" inkl. den buttons Gerichte zu Favoriten, Einkaufsliste Bring, etc. analog nach der PDF Export, Bring Export und Favoriten hinzuf√ºgen schlaufe...
- (20250729): die frage "m√∂chtest Du Beilagen hinzuf√ºgen?" soll immer kommen, wenn es gerichte gibt mit beilagenm√∂glichkeit. sprich >=1 gericht mit beilage -> frage stellen. wenn =1 gericht mit beilage -> nicht fragen f√ºr welches gericht, sondern direkt in die beilagenselektion. wenn >1 gerichte mit beilage -> frage f√ºr welche gerichte.
- (20250729): teilweise auf mobile zu wenig breit f√ºr 4 buttons. ggf. die hauptbuttons untereinander
- (20250730): quick one nutzt dieselbe Logik, dass favoritengerichte mit gr√∂sserer Wahrscheinlichkeit gew√§hlt werden???
- (20250730): pr√ºfe tausche loop, dass wenn m√∂glich gerichte mit gleichem aufwand und gleicher art getauscht werden. falls gleicher aufwand nicht vorhanden -> geh eins tiefer. falls bereits bei 1 geh eins h√∂her. falls gleiche schwere nicht vorhanden, geh eins tiefer. falls bereits bei "leicht" geh eins h√∂her
- (20250730): Produkte mit 0.5 mengen werden in der einkaufs und kochliste wieder mit 0 angegeben. greift der Dezimalstellen code nicht?
- (20250730): 
- Beilagen: in der Kochliste werden die zutaten der beilage nicht reingenommen. zudem: pr√ºfen ob bei der menge der beilage die korrekte position bei Zutaten genommen wird. muss n√§mlich diejenigen sein die die Zutate plus Typ = Beilage hat! Typ also immer auch pr√ºfen!!
- (20250806): bei gerichten mit Einschr√§nkung "beides" soll bei der koch/einkaufsliste einfach alles aus der Kategorie "Fleisch" weggelassen werden!
- (20250806): neu kann menge auch in worten angegeben werden, e.g. "wenig", "Prise", etc
- (20250806): bei Selektion beilagen muss gr√ºner hacken vor der beilage stehen, sonst ist bei langen worten nicht ersichtlich ob selektiert
- (20250812): Link auf Rezept online, wo vorhanden -> Done // Neu: Links m√ºssen weiterhin fett sein. ggf. gar kein "-", dann kommt es sch√∂ner
- (20250815): buttons bei beilagenselektion besser anordnen. fertig zuunterst und dar√ºber jeweils 3 buttons nebeneinander oder so
- (20250815): Super, bis bald!üëã      -> sobald die neue √ºbersicht kommt, kann das wieder verschwinden
- (20250818): PDF Export: Kochliste vor Einkaufsliste. zwei spalten export bei einkaufsliste und mit √ºberschrift arbeiten (gem√ºse, fleisch, etc) / Seitenumbruch
- (20250818): 



======================================================================
======================================================================
Zur√ºckgestellt:


## in der liste "deine gerichte" soll ersichtlich sein, welche gerichte leich, mittel, aufw√§ndig sind. wie kann man das umsetzen, so dass es ersichtlich ist, aber nicht st√∂rt. soll zudem in allen gerichtelisten inkl. der kochliste ersichtlich sein

‚ö™ Chinan√ºdeli (<30min)
‚ö™ Gem√ºsteteller (30-60min)
‚≠ï Omeletten (>60min)
üî¥ Poulet im Ch√∂rbli
üî¥ Lachs

ü•Ñ Chinan√ºdeli
ü•Ñ Gem√ºsteteller
üçõ Omeletten
üë®‚Äçüç≥ Poulet im Ch√∂rbli
üë®‚Äçüç≥ Lachs

üü¢ Chinan√ºdeli
üü¢ Gem√ºsteteller
üü° Omeletten
üî¥ Poulet im Ch√∂rbli
üî¥ Lachs

üê£ Chinan√ºdeli
üê£ Gem√ºsteteller
üêî Omeletten
ü¶Ö Poulet im Ch√∂rbli
ü¶Ö Lachs



